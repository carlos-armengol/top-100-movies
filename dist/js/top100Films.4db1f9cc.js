"use strict";(self["webpackChunktop_100_films"]=self["webpackChunktop_100_films"]||[]).push([[986],{1508:function(e,l,t){t.r(l),t.d(l,{default:function(){return ie}});var a=t(3396);const c={class:"d-flex flex-column"},s={class:"d-flex flex-lg-row justify-content-around"},n={class:"col-12 col-lg-5"},o={class:"container-detail"},i={class:"d-none d-lg-flex col-6"};function r(e,l,t,r,u,d){const h=(0,a.up)("Navbar"),m=(0,a.up)("router-view"),k=(0,a.up)("movie-list");return(0,a.wg)(),(0,a.iD)("div",c,[(0,a.Wm)(h),(0,a._)("div",s,[(0,a._)("div",n,[(0,a._)("div",o,[(0,a.Wm)(m)])]),(0,a._)("div",i,[(0,a.Wm)(k)])])])}var u=t(9242);const d=e=>((0,a.dD)("data-v-76906d81"),e=e(),(0,a.Cn)(),e),h={class:"img-containers"},m=["onClick","src"],k=["onUpdate:modelValue"],b=["onClick"],f=["onClick"],g=d((()=>(0,a._)("i",{class:"fas fa-eye"},null,-1))),v=[g];function p(e,l,t,c,s,n){return(0,a.wg)(),(0,a.iD)("div",h,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.filterFilms,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"img-container",key:e.id},[(0,a._)("img",{onClick:l=>c.onClickImg(e.id),src:`https://image.tmdb.org/t/p/w500${e.poster_path}`},null,8,m),(0,a.wy)((0,a._)("input",{type:"checkbox",class:"checkbox","onUpdate:modelValue":l=>e.check=l},null,8,k),[[u.e8,e.check]]),(0,a._)("label",{class:"checkmark",onClick:l=>c.onCheck(e)},null,8,b),e.check?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"checkmark",onClick:l=>c.onCheck(e)},v,8,f)):(0,a.kq)("",!0)])))),128))])}t(7658);var _=t(2483),x=t(4870),C=t(65);const w=()=>{const e=(0,_.tv)(),l=(0,C.oR)(),t=(0,x.iH)(""),c=(0,x.iH)(""),s=(0,x.iH)("all"),n=(0,a.Fl)((()=>l.getters["films/getFilterList"]())),o=(a,o)=>{switch(o){case"search":c.value="",s.value="";break;case"genre":t.value="",s.value="";break;case"check":default:s.value=a,c.value="",t.value="";break}l.commit("films/setFilterText",{filterText:a,filterType:o}),e.push({name:"film-detail",params:{id:n.value[0]?.id}})};return{textSearch:t,genreSearch:c,checkType:s,numUnchecked:(0,a.Fl)((()=>l.getters["films/getOnlyUnchecked"].length)),numChecked:(0,a.Fl)((()=>l.getters["films/getOnlyChecked"].length)),filterFilms:n,onCheck(e){l.dispatch("films/toggleCheckFilm",{filmSelect:e,user:l.state.auth.user})},onclickFilters:o}};var y=w,F={setup(e,l){const t=(0,_.tv)(),{filterFilms:a,onCheck:c}=y(),s=e=>{l.emit("OnClickImg"),t.push({name:"film-detail",params:{id:e}})};return{router:t,filterFilms:a,onCheck:c,onClickImg:s}}},S=t(89);const T=(0,S.Z)(F,[["render",p],["__scopeId","data-v-76906d81"]]);var U=T,D=t(7139),L=t(6949);const I=e=>((0,a.dD)("data-v-fe6f476a"),e=e(),(0,a.Cn)(),e),N={class:"navbar bg-primary sticky-top"},H={class:"container-xxl flex-wrap flex-lg-nowrap"},M={class:"navbar-brand text-white d-flex align-items-center p-0 me-0 me-lg-2"},O=I((()=>(0,a._)("img",{src:L,alt:"Vue Logo",height:"50",class:"d-inline-block align-text-top mx-2"},null,-1))),V=I((()=>(0,a._)("i",{class:"fa-solid fa-bars"},null,-1))),z=[V],W={class:"offcanvas-header px-4 pb-0"},Z=I((()=>(0,a._)("h5",{class:"offcanvas-title text-white",id:"bdNavbarOffcanvasLabel"},"Top-100-Movies",-1))),A={class:"offcanvas-body p-4 pt-0 p-lg-0"},K=I((()=>(0,a._)("hr",{class:"d-lg-none text-white-50"},null,-1))),R={class:"navbar-nav flex-row flex-wrap bd-navbar-nav"},Y={class:"nav-item col-12 col-lg-auto"},$=I((()=>(0,a._)("option",{disabled:"",value:""},"Filtrar por genero",-1))),j=["value"],q={class:"nav-item col-12 col-lg-auto"},G={class:"col-8"},P=I((()=>(0,a._)("div",{class:"col"},[(0,a._)("button",{class:"btn btn-outline-success my-2 my-sm-0",type:"submit"},"Search")],-1))),B={class:"nav-item col-12 col-lg-auto"},E={class:"nav-item col-12 col-lg-auto"},J={class:"d-flex"},Q=I((()=>(0,a._)("i",{class:"fa-solid fa-right-from-bracket"},null,-1))),X=[Q],ee=I((()=>(0,a._)("hr",{class:"d-lg-none text-white-50"},null,-1)));function le(e,l){const t=(0,a.up)("movie-list");return(0,a.wg)(),(0,a.iD)("header",N,[(0,a._)("nav",H,[(0,a._)("a",M,[O,(0,a.Uk)(" Top 100 Movies ["+(0,D.zw)(e.username)+"] ",1)]),(0,a._)("button",{class:"navbar-toggler d-flex d-lg-none order-3 p-2 text-success",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#bdNavbar","aria-controls":"bdNavbar","aria-label":"Toggle navigation",onClick:l[0]||(l[0]=l=>e.show=!0)},z),(0,a._)("div",{class:(0,D.C_)(["offcanvas-lg offcanvas-end flex-grow-1 bg-primary",{show:e.show}]),tabindex:"-1",id:"bdNavbar","aria-labelledby":"bdNavbarOffcanvasLabel","data-bs-scroll":"true"},[(0,a._)("div",W,[Z,(0,a._)("button",{type:"button",class:"btn-close btn-close-white","data-bs-dismiss":"offcanvas","aria-label":"Close","data-bs-target":"#bdNavbar",onClick:l[1]||(l[1]=l=>e.show=!1)})]),(0,a._)("div",A,[K,(0,a._)("ul",R,[(0,a._)("li",Y,[(0,a.wy)((0,a._)("select",{class:"form-select form-select-md select-genres","onUpdate:modelValue":l[2]||(l[2]=l=>e.genreSearch=l),placeholder:"Filtrar por genero",onChange:l[3]||(l[3]=l=>e.onclickFilters(e.genreSearch,"genre"))},[$,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.$store.state.films.genresList,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.name},[(0,a._)("i",{class:(0,D.C_)(["fas ",e.icon])},null,2),(0,a.Uk)(" "+(0,D.zw)(e.name),1)],8,j)))),128))],544),[[u.bM,e.genreSearch]])]),(0,a._)("li",q,[(0,a._)("form",{class:"form-inline my-2 my-lg-0 d-flex",onSubmit:l[5]||(l[5]=(0,u.iM)((l=>e.onclickFilters(e.textSearch,"search")),["prevent"]))},[(0,a._)("div",G,[(0,a.wy)((0,a._)("input",{class:"form-control mr-sm-2",type:"search",placeholder:"Search","onUpdate:modelValue":l[4]||(l[4]=l=>e.textSearch=l),"aria-label":"Search"},null,512),[[u.nr,e.textSearch]])]),P],32)]),(0,a._)("li",B,[(0,a._)("button",{type:"button",class:(0,D.C_)(["btn btn-outline-success",{"btn-success text-dark":"all"===e.checkType}]),onClick:l[6]||(l[6]=l=>e.onclickFilters("all","check"))},"Todas",2),(0,a._)("button",{type:"button",class:(0,D.C_)(["btn btn-outline-success",{"btn-success text-dark":"checked"===e.checkType}]),onClick:l[7]||(l[7]=l=>e.onclickFilters("checked","check"))},"Vistas ("+(0,D.zw)(e.numChecked)+")",3),(0,a._)("button",{type:"button",class:(0,D.C_)(["btn btn-outline-success",{"btn-success text-dark":"unchecked"===e.checkType}]),onClick:l[8]||(l[8]=l=>e.onclickFilters("unchecked","check"))},"Pendientes ("+(0,D.zw)(e.numUnchecked)+")",3)]),(0,a._)("li",E,[(0,a._)("div",J,[(0,a._)("button",{onClick:l[9]||(l[9]=(...l)=>e.onLogout&&e.onLogout(...l)),class:"btn btn-outline-info mx-2"},X)])])]),ee,(0,a.Wm)(t,{class:"d-sm-flex d-lg-none",onOnClickImg:l[10]||(l[10]=l=>e.show=!1)})])],2)])])}var te=t(4207),ae={components:{MovieList:U},setup(){const e=(0,_.tv)(),{username:l,logout:t}=(0,te.Z)(),{textSearch:a,genreSearch:c,checkType:s,numUnchecked:n,numChecked:o,onclickFilters:i}=y(),r=(0,x.iH)(!1);return{username:l,textSearch:a,genreSearch:c,checkType:s,onLogout:()=>{e.push({name:"login"}),t()},numUnchecked:n,numChecked:o,onclickFilters:i,show:r}}};const ce=(0,S.Z)(ae,[["render",le],["__scopeId","data-v-fe6f476a"]]);var se=ce,ne={components:{MovieList:U,Navbar:se},setup(){const e=(0,C.oR)(),l=()=>{e.dispatch("films/loadFilms",e.state.auth.user),e.dispatch("films/getAllGenres")};l();const t=()=>{e.dispatch("auth/checkAuthentication")};let c=null;return setTimeout((()=>{t(),c=setInterval(t,6e5)}),6e5),(0,a.Ah)((()=>{clearInterval(c)})),{}}};const oe=(0,S.Z)(ne,[["render",r]]);var ie=oe}}]);
//# sourceMappingURL=top100Films.4db1f9cc.js.map